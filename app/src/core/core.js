const a1_0x203c24=a1_0x14aa;(function(_0x1a4895,_0x2656bb){const _0x4cc717=a1_0x14aa,_0x449f46=_0x1a4895();while(!![]){try{const _0x2923eb=parseInt(_0x4cc717(0x222,'k72Q'))/0x1+-parseInt(_0x4cc717(0x22c,'AWhs'))/0x2*(parseInt(_0x4cc717(0x20b,'lv6v'))/0x3)+parseInt(_0x4cc717(0x232,'SMJ['))/0x4+parseInt(_0x4cc717(0x22e,'2OWX'))/0x5+parseInt(_0x4cc717(0x209,'jpP4'))/0x6+parseInt(_0x4cc717(0x204,'D^Ia'))/0x7*(-parseInt(_0x4cc717(0x21f,'uavC'))/0x8)+parseInt(_0x4cc717(0x236,'2OWX'))/0x9*(-parseInt(_0x4cc717(0x230,'wsu0'))/0xa);if(_0x2923eb===_0x2656bb)break;else _0x449f46['push'](_0x449f46['shift']());}catch(_0x4a2eb6){_0x449f46['push'](_0x449f46['shift']());}}}(a1_0x47ae,0x62a68));function a1_0x14aa(_0x673bc9,_0x98e6fe){const _0x2159ae=a1_0x47ae();return a1_0x14aa=function(_0x3e99f7,_0x1651d2){_0x3e99f7=_0x3e99f7-0x1f4;let _0x226762=_0x2159ae[_0x3e99f7];if(a1_0x14aa['ORzrTF']===undefined){var _0x1a5541=function(_0x49fbb3){const _0x5e447a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x141e91='',_0x387fbe='',_0x59d1da=_0x141e91+_0x1a5541;for(let _0x2e5017=0x0,_0x39bc3d,_0x580a5d,_0x4d32a6=0x0;_0x580a5d=_0x49fbb3['charAt'](_0x4d32a6++);~_0x580a5d&&(_0x39bc3d=_0x2e5017%0x4?_0x39bc3d*0x40+_0x580a5d:_0x580a5d,_0x2e5017++%0x4)?_0x141e91+=_0x59d1da['charCodeAt'](_0x4d32a6+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x39bc3d>>(-0x2*_0x2e5017&0x6)):_0x2e5017:0x0){_0x580a5d=_0x5e447a['indexOf'](_0x580a5d);}for(let _0x50fe1d=0x0,_0xb75d06=_0x141e91['length'];_0x50fe1d<_0xb75d06;_0x50fe1d++){_0x387fbe+='%'+('00'+_0x141e91['charCodeAt'](_0x50fe1d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x387fbe);};const _0x14aa7a=function(_0x34b6e4,_0x12af15){let _0x13df4a=[],_0x21d7ff=0x0,_0x370a5d,_0x573997='';_0x34b6e4=_0x1a5541(_0x34b6e4);let _0x168da9;for(_0x168da9=0x0;_0x168da9<0x100;_0x168da9++){_0x13df4a[_0x168da9]=_0x168da9;}for(_0x168da9=0x0;_0x168da9<0x100;_0x168da9++){_0x21d7ff=(_0x21d7ff+_0x13df4a[_0x168da9]+_0x12af15['charCodeAt'](_0x168da9%_0x12af15['length']))%0x100,_0x370a5d=_0x13df4a[_0x168da9],_0x13df4a[_0x168da9]=_0x13df4a[_0x21d7ff],_0x13df4a[_0x21d7ff]=_0x370a5d;}_0x168da9=0x0,_0x21d7ff=0x0;for(let _0x3d6de1=0x0;_0x3d6de1<_0x34b6e4['length'];_0x3d6de1++){_0x168da9=(_0x168da9+0x1)%0x100,_0x21d7ff=(_0x21d7ff+_0x13df4a[_0x168da9])%0x100,_0x370a5d=_0x13df4a[_0x168da9],_0x13df4a[_0x168da9]=_0x13df4a[_0x21d7ff],_0x13df4a[_0x21d7ff]=_0x370a5d,_0x573997+=String['fromCharCode'](_0x34b6e4['charCodeAt'](_0x3d6de1)^_0x13df4a[(_0x13df4a[_0x168da9]+_0x13df4a[_0x21d7ff])%0x100]);}return _0x573997;};a1_0x14aa['auaEGz']=_0x14aa7a,_0x673bc9=arguments,a1_0x14aa['ORzrTF']=!![];}const _0x2206e7=_0x2159ae[0x0],_0x2c952d=_0x3e99f7+_0x2206e7,_0x47aeb8=_0x673bc9[_0x2c952d];if(!_0x47aeb8){if(a1_0x14aa['xDWIyE']===undefined){const _0x125286=function(_0x13cd38){this['RiVBFO']=_0x13cd38,this['muDkED']=[0x1,0x0,0x0],this['MpJNkD']=function(){return'newState';},this['xbyNpH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['qjecri']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x125286['prototype']['ErcEnQ']=function(){const _0x312286=new RegExp(this['xbyNpH']+this['qjecri']),_0x29f5f7=_0x312286['test'](this['MpJNkD']['toString']())?--this['muDkED'][0x1]:--this['muDkED'][0x0];return this['lJQTYU'](_0x29f5f7);},_0x125286['prototype']['lJQTYU']=function(_0x3e75e9){if(!Boolean(~_0x3e75e9))return _0x3e75e9;return this['tkvOSe'](this['RiVBFO']);},_0x125286['prototype']['tkvOSe']=function(_0x30343c){for(let _0x190335=0x0,_0x2a7c35=this['muDkED']['length'];_0x190335<_0x2a7c35;_0x190335++){this['muDkED']['push'](Math['round'](Math['random']())),_0x2a7c35=this['muDkED']['length'];}return _0x30343c(this['muDkED'][0x0]);},new _0x125286(a1_0x14aa)['ErcEnQ'](),a1_0x14aa['xDWIyE']=!![];}_0x226762=a1_0x14aa['auaEGz'](_0x226762,_0x1651d2),_0x673bc9[_0x2c952d]=_0x226762;}else _0x226762=_0x47aeb8;return _0x226762;},a1_0x14aa(_0x673bc9,_0x98e6fe);}const a1_0x2c952d=(function(){let _0x3896ad=!![];return function(_0x5b5eba,_0x140c32){const _0x1d1994={'FJTlf':function(_0x57f85d,_0x5425a5){return _0x57f85d(_0x5425a5);}},_0x4bc732=_0x3896ad?function(){const _0xe32fba=a1_0x14aa;if('VjgMz'!==_0xe32fba(0x208,'9NX]'))throw _0x1d1994['FJTlf'](_0x1120be,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x146c91+_0xe32fba(0x22b,'0R!#'));else{if(_0x140c32){const _0x4d959f=_0x140c32[_0xe32fba(0x1fd,'fj!x')](_0x5b5eba,arguments);return _0x140c32=null,_0x4d959f;}}}:function(){};return _0x3896ad=![],_0x4bc732;};}()),a1_0x2206e7=a1_0x2c952d(this,function(){const _0x37c1f0=a1_0x14aa,_0x4f7b9b={'TCByR':'(((.+)+)+)+$'};return a1_0x2206e7[_0x37c1f0(0x212,'P)(w')]()['search'](_0x4f7b9b[_0x37c1f0(0x202,'wsu0')])[_0x37c1f0(0x211,'8LAw')]()[_0x37c1f0(0x217,'D^Ia')](a1_0x2206e7)['search']('(((.+)+)+)+$');});a1_0x2206e7();const a1_0x1651d2=(function(){let _0x154e95=!![];return function(_0xd4bd51,_0x5d8f08){const _0x528a0e=_0x154e95?function(){const _0x31793f=a1_0x14aa;if(_0x5d8f08){const _0x59e810=_0x5d8f08[_0x31793f(0x1f5,'[q4e')](_0xd4bd51,arguments);return _0x5d8f08=null,_0x59e810;}}:function(){};return _0x154e95=![],_0x528a0e;};}()),a1_0x3e99f7=a1_0x1651d2(this,function(){const _0x389734=a1_0x14aa;let _0x3c115f;try{const _0x1f5432=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3c115f=_0x1f5432();}catch(_0x296a14){_0x3c115f=window;}const _0x2d0cb6=_0x3c115f['console']=_0x3c115f['console']||{},_0x4d4d35=['log',_0x389734(0x205,'YC7Q'),'info','error','exception','table','trace'];for(let _0x17e3b8=0x0;_0x17e3b8<_0x4d4d35['length'];_0x17e3b8++){if('cwKcv'==='cwKcv'){const _0x43aab5=a1_0x1651d2['constructor']['prototype'][_0x389734(0x1f9,'0R!#')](a1_0x1651d2),_0x3d34b9=_0x4d4d35[_0x17e3b8],_0xd03608=_0x2d0cb6[_0x3d34b9]||_0x43aab5;_0x43aab5['__proto__']=a1_0x1651d2[_0x389734(0x1f6,'uavC')](a1_0x1651d2),_0x43aab5[_0x389734(0x200,'KJB9')]=_0xd03608['toString']['bind'](_0xd03608),_0x2d0cb6[_0x3d34b9]=_0x43aab5;}else throw _0x5ae98b(_0x389734(0x225,'fj!x'));}});a1_0x3e99f7();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a1_0x357fdd from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{Config}from'../../config.js';export default class Core{constructor(_0x26bdd5){const _0x34fbef=a1_0x14aa;this['acc']=_0x26bdd5,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC[_0x34fbef(0x20c,'cr]f')]);}async['connectWallet'](){const _0x5dbd2f=a1_0x14aa,_0x47e1fd={'fJFTP':'Private\x20Key','sGAEa':function(_0x5c7cff,_0x582318){return _0x5c7cff===_0x582318;}};try{const _0x3bb1d7=this['acc'],_0x43dfe8=privateKey[_0x5dbd2f(0x237,'HajQ')](this['acc']);await Helper['delay'](0x3e8,this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0x43dfe8+0x1),this);const _0x2d3ff5=Helper[_0x5dbd2f(0x226,'AWhs')](_0x3bb1d7);a1_0x357fdd['info']('Account\x20Type\x20:\x20'+_0x2d3ff5);if(_0x2d3ff5=='Secret\x20Phrase')this['wallet']=new ethers['Wallet']['fromPhrase'](_0x3bb1d7,this['provider']);else{if(_0x2d3ff5==_0x47e1fd['fJFTP'])this['wallet']=new ethers[(_0x5dbd2f(0x20f,'uXQh'))](_0x3bb1d7['trim'](),this['provider']);else throw Error(_0x5dbd2f(0x21b,'RqcK'));}this['address']=this[_0x5dbd2f(0x233,'%s@Y')]['address'],await Helper['delay'](0x3e8,this['acc'],'Wallet\x20connected\x20'+JSON['stringify'](this['wallet']['address']),this);}catch(_0x14fb43){if(_0x47e1fd['sGAEa']('srPwf','srPwf'))throw _0x14fb43;else{const _0x3cef2e=_0x419af5?function(){if(_0x12a0ea){const _0x46d2ee=_0x110ec0['apply'](_0x11dcab,arguments);return _0x581cab=null,_0x46d2ee;}}:function(){};return _0x404d96=![],_0x3cef2e;}}}async['getBalance'](_0x5ce003=![]){const _0x28b7f4=a1_0x14aa;try{if(_0x28b7f4(0x219,'0R!#')!=='KZlsN'){const _0x5831c2=_0x288868['apply'](_0x662d5d,arguments);return _0x26551b=null,_0x5831c2;}else{if(!_0x5ce003){if(_0x28b7f4(0x227,'7R&M')!=='TlmtK')await Helper[_0x28b7f4(0x210,'SMJ[')](0x1f4,this[_0x28b7f4(0x207,'AFZl')],'Getting\x20Wallet\x20Balance\x20of\x20'+this['wallet'][_0x28b7f4(0x221,'#ihH')],this);else throw _0x45d467;}const _0x1b81c5=ethers['formatEther'](await this['provider'][_0x28b7f4(0x21c,'(tZJ')](this['wallet'][_0x28b7f4(0x21a,'42S)')]));this['balance']={'ETH':_0x1b81c5},await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this);}}catch(_0x5bd1c7){throw _0x5bd1c7;}}async[a1_0x203c24(0x206,'YC7Q')](){const _0x3b3959=a1_0x203c24;try{await Helper['delay'](0x1f4,this['acc'],_0x3b3959(0x238,'AWhs'),this);const _0x263531=Config['network']=='ARB'?Config['ARBTOOPBRIDGECONTRACT']:Config['OPTOARBBRIDGECONTRACT'],_0x4f75f2=ethers['parseEther'](Config['BRIDGEAMOUNT']),_0x530199=Config[_0x3b3959(0x1fe,'7R&M')]=='ARB'?Config['ARBTOOPRAWDATA']:Config[_0x3b3959(0x20a,'6eCI')],_0x410649=await this['getOptimalNonce'](),_0x989130=await this['estimateGasWithRetry'](_0x263531,_0x4f75f2,_0x530199,0x3,0x3e8),_0x2b094f={'to':_0x263531,'value':_0x4f75f2,'gasLimit':_0x989130,'gasPrice':ethers[_0x3b3959(0x234,'bAwr')]('0.1',_0x3b3959(0x203,'aBmu')),'nonce':_0x410649,'data':_0x530199};await this[_0x3b3959(0x231,'RqcK')](_0x2b094f);}catch(_0x153fc2){throw _0x153fc2;}}async['executeTx'](_0x1fd477){const _0x16ae65=a1_0x203c24;try{if('VFLze'!=='VFLze')this['wallet']=new _0x1fd648[(_0x16ae65(0x22f,'fj!x'))]['fromPhrase'](_0x8ccb23,this['provider']);else{a1_0x357fdd['info']('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x1fd477))),await Helper[_0x16ae65(0x20e,'6eCI')](0x1f4,this['acc'],_0x16ae65(0x1f7,'7R&M'),this);const _0x5288a9=await this[_0x16ae65(0x216,'8kkS')]['sendTransaction'](_0x1fd477);await Helper['delay'](0x1f4,this['acc'],_0x16ae65(0x21e,'(tZJ'),this);const _0x4c4e27=await _0x5288a9['wait']();a1_0x357fdd[_0x16ae65(0x1f4,'MtjP')]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x16ae65(0x214,'(tZJ')](_0x4c4e27)),await Helper[_0x16ae65(0x1fa,'7R&M')](0x1388,this[_0x16ae65(0x218,'k72Q')],_0x16ae65(0x228,'MtjP')+RPC['EXPLORER']+'tx/'+_0x4c4e27['hash'],this),await this['getBalance'](!![]);}}catch(_0x1e6ebe){if(_0x1e6ebe[_0x16ae65(0x1f8,'MtjP')][_0x16ae65(0x223,'k72Q')]('504'))'SvjrK'===_0x16ae65(0x22d,'9aus')?await Helper['delay'](0x1388,this[_0x16ae65(0x235,'wt4h')],_0x1e6ebe['message'],this):(this[_0x16ae65(0x215,'uavC')]=_0x43866f,this['provider']=new _0xd81788[(_0x16ae65(0x201,'k72Q'))](_0x3080af['RPCURL'],_0x27ee40['CHAINID']));else throw _0x1e6ebe;}}async[a1_0x203c24(0x21d,'cr]f')](){const _0x111014=a1_0x203c24;try{const _0x2d0a34=await this['provider'][_0x111014(0x22a,'P)(w')](this['wallet'][_0x111014(0x1fb,'%s@Y')],'latest'),_0x548c75=await this['provider']['getTransactionCount'](this[_0x111014(0x20d,'0R!#')][_0x111014(0x1ff,'Y0]^')],_0x111014(0x1fc,'blv[')),_0x4063fa=_0x548c75>_0x2d0a34?_0x548c75:_0x2d0a34;return _0x4063fa;}catch(_0x583ebd){throw _0x583ebd;}}async['estimateGasWithRetry'](_0x171029,_0x56971f,_0x377b74,_0x46f046=0x3,_0x446697=0xbb8){const _0x48b003=a1_0x203c24;for(let _0x1f75f5=0x0;_0x1f75f5<_0x46f046;_0x1f75f5++){if('QaZKY'==='QaZKY')try{a1_0x357fdd['info']('Estimating\x20Gas\x20for\x20'+_0x377b74+'\x20TX');const _0x1d2aab=await this['provider']['estimateGas']({'from':this['wallet']['address'],'to':_0x171029,'value':_0x56971f,'data':_0x377b74});return _0x1d2aab;}catch(_0x4f74ee){await Helper['delay'](_0x446697,this[_0x48b003(0x229,'YC7Q')],_0x4f74ee[_0x48b003(0x220,'wt4h')]+'...\x20Attempt\x20'+(_0x1f75f5+0x1)+'\x20of\x20'+_0x46f046,this);if(_0x1f75f5===_0x46f046-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x46f046+_0x48b003(0x213,'uXQh'));}else{const _0x312527=_0x36fcc5('return\x20(function()\x20'+_0x48b003(0x224,'4Q39')+');');_0x430248=_0x312527();}}}}function a1_0x47ae(){const _0x23fc67=['CSoTW7/dQa','W5iFr8oiW7C','jIddUuG','bKqhW5JcS8oXWOVdIsddNmkdBXDqWO0','DSoMW6RdTepcPs0','i8o4vtq','j1KoW5RcVW','tCktW40ZW5/dGSoX','WQVdOmocnaHTWQK','W6eZW7VcV0W','lvKwW4ZcQCo3WOK','WQaaWPvhxmk1ba','WRlcI8oQbWnTdCkk','ywWBW4yVWRtdTSoaWQ1OW5hdQCkxvJ4','WOjpCCkJWP4','EWmosG','WQtcUGGhq0T1mCoWW5NdISoV','BtCXAW','AdC0uCoz','WPddKmoe','W7NcJCoviCo/','ieuwt8k9x8kuAcpcMSk6iSog','fXKYWQfeAYFcMH90W4pdN8kLgG','dYxdTwPZW5y+W4ldGG','W53dUmo+pGFdIZ8','nSoWvZZcLhu','pcWkWO98','WO/dLZZdQbBdRG','jblcR8k7W58','yCknWQZdUelcOMtdIW','l8kRWPuMW4qgWOLx','W7JdLYtdSbBdT8k7AbmP','WR/cI8oOWR9oWPlcQ8kyWRq','jsRdTa','DCosedueWRW','W7tdRf9mbWXMaSowW7xdKG','sNWx','cSolvYpcVW','WOv2WOBdRvugW5G','oSkZxSkAzrddVmkwW6CzaSkCWQRcMCkZWRNcUgDobKpcQSoXF8orWRxcQSokFmoCWOXbW4FcHSorW5GIf146W6eVW7CO','WQVcMSoUWPrbWPNcO8kqWQ7dTq','W7NdLColodNdTHldNYddKvVcUSk0W4/dKa','WPJcH8k6WPnyWPdcOCklWRNdTCopWQzKW7TMDYldPmkeEmoFW7DFFKVdV8kAW6VdJCk3m8oqW4iEWPTbW513hSk4WPq0WOFcI8oX','ChNdU2LzW4VdR8kC','rHFdL8opc8kgW5WXrM7cT8kU','aKJdO8kFDKys','gczfWPXpW7FdGCoZWPb1W5tdOq','qNexW4qiWQddSmoJ','W7ZdMJieumoubCoxWOZdUHLwWQZcTCkLW6aCWO8fW6/dPmk9W6/cPCodW7jkWPJcVgtdSCkv','W4KTW73cSLKrWOKZWQ4xW6FdVmkuWPVcSSk4WOJcOSkSdgddN8k0cmoemX7dNSkKW4VdK3pdHCoAcsdcGSktW4/dVCogfcqm','AWXtoCk1pu91W5iXxSkuW58','cfaXW47cHq','t8o7WRNdGLRcPYVdSbBcHmkwkSkt','EZuG','pmkHWRigW4qoWOLdWPblpHJdGKP7dNxcHSkT','yCoWtYtcLgZdIfGLW4q','n1SEAmkDfLDtW5uQ','jrT5w0O','W4v2ocVdSNnqW5ldO8oEW6hcRCk/','W5CIW6FcV1am','W6C1aSoVW79kW67cGCkJmGqDjG','fSkLtCkyFa3dVCoIW74','C0tdTmoIWPDSrmoxsSoSWPDG','w8kwW4uTW5/dHq','WQ8nWQzsWOZcNGFdOSotzW','vbZdMW','W4v4Af/cPZe3W4O','WQZdJCoUWQlcGaldUG','wXTEFmktpWzEW48armkrW459ivdcGmofDxj6WRFdKG3cUb3dMXvYtSoMW4m'];a1_0x47ae=function(){return _0x23fc67;};return a1_0x47ae();}