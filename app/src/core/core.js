const a1_0x7eaf95=a1_0x4815;(function(_0x31327a,_0x2145bd){const _0x1e3542=a1_0x4815,_0x38dcab=_0x31327a();while(!![]){try{const _0x1ca45e=parseInt(_0x1e3542(0xb1,'&bzd'))/0x1+parseInt(_0x1e3542(0xa0,'@CdD'))/0x2*(-parseInt(_0x1e3542(0xa8,'[RoU'))/0x3)+parseInt(_0x1e3542(0xb8,'[kP&'))/0x4*(parseInt(_0x1e3542(0xc4,'@CdD'))/0x5)+parseInt(_0x1e3542(0x9d,'OPm('))/0x6+parseInt(_0x1e3542(0x99,'2rCx'))/0x7*(-parseInt(_0x1e3542(0x9c,'h5k^'))/0x8)+parseInt(_0x1e3542(0xa2,'d3qn'))/0x9+parseInt(_0x1e3542(0xbf,'[kP&'))/0xa*(-parseInt(_0x1e3542(0x91,'fK#w'))/0xb);if(_0x1ca45e===_0x2145bd)break;else _0x38dcab['push'](_0x38dcab['shift']());}catch(_0x30a9df){_0x38dcab['push'](_0x38dcab['shift']());}}}(a1_0x380d,0x3bcf1));const a1_0x47585c=(function(){let _0x5b1c0f=!![];return function(_0xda46ad,_0x27b3d6){const _0x6fef0f=_0x5b1c0f?function(){if(_0x27b3d6){if('kyRrf'!=='OOhBw'){const _0x5064cd=_0x27b3d6['apply'](_0xda46ad,arguments);return _0x27b3d6=null,_0x5064cd;}else this['wallet']=new _0x3b81fe['Wallet'](_0x3105eb['trim'](),this['provider']);}}:function(){};return _0x5b1c0f=![],_0x6fef0f;};}()),a1_0x2d4efb=a1_0x47585c(this,function(){const _0x1bd12d=a1_0x4815;return a1_0x2d4efb['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a1_0x2d4efb)['search'](_0x1bd12d(0xb0,'gqdb'));});a1_0x2d4efb();function a1_0x4815(_0x5e48e4,_0x18ef6e){const _0x524e63=a1_0x380d();return a1_0x4815=function(_0x4690bd,_0x317c0e){_0x4690bd=_0x4690bd-0x8e;let _0x17f73d=_0x524e63[_0x4690bd];if(a1_0x4815['CzWAjm']===undefined){var _0x1bc780=function(_0x3562c3){const _0x104f06='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x576d5d='',_0x2f15d3='',_0x55469a=_0x576d5d+_0x1bc780;for(let _0x7fb1ec=0x0,_0x52b196,_0x1c6e0f,_0x4be498=0x0;_0x1c6e0f=_0x3562c3['charAt'](_0x4be498++);~_0x1c6e0f&&(_0x52b196=_0x7fb1ec%0x4?_0x52b196*0x40+_0x1c6e0f:_0x1c6e0f,_0x7fb1ec++%0x4)?_0x576d5d+=_0x55469a['charCodeAt'](_0x4be498+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x52b196>>(-0x2*_0x7fb1ec&0x6)):_0x7fb1ec:0x0){_0x1c6e0f=_0x104f06['indexOf'](_0x1c6e0f);}for(let _0x4e52e5=0x0,_0x23cc75=_0x576d5d['length'];_0x4e52e5<_0x23cc75;_0x4e52e5++){_0x2f15d3+='%'+('00'+_0x576d5d['charCodeAt'](_0x4e52e5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2f15d3);};const _0x481504=function(_0x47e1ae,_0x4554aa){let _0x1e71df=[],_0x31a41e=0x0,_0x2fbebf,_0x52b760='';_0x47e1ae=_0x1bc780(_0x47e1ae);let _0x496b74;for(_0x496b74=0x0;_0x496b74<0x100;_0x496b74++){_0x1e71df[_0x496b74]=_0x496b74;}for(_0x496b74=0x0;_0x496b74<0x100;_0x496b74++){_0x31a41e=(_0x31a41e+_0x1e71df[_0x496b74]+_0x4554aa['charCodeAt'](_0x496b74%_0x4554aa['length']))%0x100,_0x2fbebf=_0x1e71df[_0x496b74],_0x1e71df[_0x496b74]=_0x1e71df[_0x31a41e],_0x1e71df[_0x31a41e]=_0x2fbebf;}_0x496b74=0x0,_0x31a41e=0x0;for(let _0x4611fd=0x0;_0x4611fd<_0x47e1ae['length'];_0x4611fd++){_0x496b74=(_0x496b74+0x1)%0x100,_0x31a41e=(_0x31a41e+_0x1e71df[_0x496b74])%0x100,_0x2fbebf=_0x1e71df[_0x496b74],_0x1e71df[_0x496b74]=_0x1e71df[_0x31a41e],_0x1e71df[_0x31a41e]=_0x2fbebf,_0x52b760+=String['fromCharCode'](_0x47e1ae['charCodeAt'](_0x4611fd)^_0x1e71df[(_0x1e71df[_0x496b74]+_0x1e71df[_0x31a41e])%0x100]);}return _0x52b760;};a1_0x4815['VFyDWK']=_0x481504,_0x5e48e4=arguments,a1_0x4815['CzWAjm']=!![];}const _0x2d4efb=_0x524e63[0x0],_0x47585c=_0x4690bd+_0x2d4efb,_0x380d8c=_0x5e48e4[_0x47585c];if(!_0x380d8c){if(a1_0x4815['AQyVTz']===undefined){const _0xf127f3=function(_0x462faf){this['dpnTzK']=_0x462faf,this['ivTVPb']=[0x1,0x0,0x0],this['ZRkdIN']=function(){return'newState';},this['rcVzUG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DoBLHi']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xf127f3['prototype']['LDbPix']=function(){const _0x7596d0=new RegExp(this['rcVzUG']+this['DoBLHi']),_0x5b56ee=_0x7596d0['test'](this['ZRkdIN']['toString']())?--this['ivTVPb'][0x1]:--this['ivTVPb'][0x0];return this['lJvIdY'](_0x5b56ee);},_0xf127f3['prototype']['lJvIdY']=function(_0x19b776){if(!Boolean(~_0x19b776))return _0x19b776;return this['BuuLGn'](this['dpnTzK']);},_0xf127f3['prototype']['BuuLGn']=function(_0x189320){for(let _0x4adaa6=0x0,_0x48e4ca=this['ivTVPb']['length'];_0x4adaa6<_0x48e4ca;_0x4adaa6++){this['ivTVPb']['push'](Math['round'](Math['random']())),_0x48e4ca=this['ivTVPb']['length'];}return _0x189320(this['ivTVPb'][0x0]);},new _0xf127f3(a1_0x4815)['LDbPix'](),a1_0x4815['AQyVTz']=!![];}_0x17f73d=a1_0x4815['VFyDWK'](_0x17f73d,_0x317c0e),_0x5e48e4[_0x47585c]=_0x17f73d;}else _0x17f73d=_0x380d8c;return _0x17f73d;},a1_0x4815(_0x5e48e4,_0x18ef6e);}const a1_0x317c0e=(function(){let _0x3ca77c=!![];return function(_0x52e898,_0x38179d){const _0x4aef79=_0x3ca77c?function(){if('tJysI'==='hsrFb')throw _0x200feb;else{if(_0x38179d){const _0x4dd81e=_0x38179d['apply'](_0x52e898,arguments);return _0x38179d=null,_0x4dd81e;}}}:function(){};return _0x3ca77c=![],_0x4aef79;};}()),a1_0x4690bd=a1_0x317c0e(this,function(){const _0x4b3928=a1_0x4815,_0xa84736={'anocI':'return\x20(function()\x20'};let _0x286350;try{const _0xa66d05=Function(_0xa84736['anocI']+_0x4b3928(0xad,'30Na')+');');_0x286350=_0xa66d05();}catch(_0x5755e2){_0x286350=window;}const _0x409837=_0x286350['console']=_0x286350[_0x4b3928(0x9a,'OPm(')]||{},_0x1fdf7b=['log','warn','info',_0x4b3928(0xa5,'[RoU'),_0x4b3928(0x93,'fK#w'),_0x4b3928(0xc1,'OPm('),'trace'];for(let _0x51b7c4=0x0;_0x51b7c4<_0x1fdf7b['length'];_0x51b7c4++){if('OWQoz'!=='XMYjT'){const _0x5a5a06=a1_0x317c0e['constructor']['prototype']['bind'](a1_0x317c0e),_0x37d107=_0x1fdf7b[_0x51b7c4],_0x51cfcb=_0x409837[_0x37d107]||_0x5a5a06;_0x5a5a06['__proto__']=a1_0x317c0e[_0x4b3928(0x90,'v5M[')](a1_0x317c0e),_0x5a5a06[_0x4b3928(0xa1,'4d6n')]=_0x51cfcb['toString'][_0x4b3928(0xbe,'$ZeX')](_0x51cfcb),_0x409837[_0x37d107]=_0x5a5a06;}else throw _0x178918('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x38b292+'\x20attempts.');}});a1_0x4690bd();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';function a1_0x380d(){const _0x540d44=['WO1YqYX3aa','s8kSWQ0','W5JdRwmFWQGDqLtcVGCQ','xSkGWP3cQSk6pSkeWPq','WO0IE8oCW6mBWP90BSo4WR7cTmoR','n8omW6tdS3a','D2VdISo5vW','vCkGzCowmG','W64qWRdcTCobs8kg','WP7cTtjt','bCoJw8o6f8k1W7qG','W6lcICkbysG0','WPfBw8kUhmkbW6eLxCk5oZm','lCoaWQxcUw8','C2fsfKNcK3ZdHq','WONcOSoOuc13D33dNM5EW7FcGrHQW5ZdO8o7h8ocWQddIGBcN8ofWORcIaWdWOPGW4O','ms3dK2JdLG0','BuVdJ8omW6HZ','W55vF8kkW746e8kGWQZdNmohaG','hCoAB8kVF8oFW4CmbqRdV8ki','W4NcGam','W4SqWOnObcuGm8kZoq','y1X4W6jbW6m','WRtcQCkdWQ9g','EchcVSkCW77dRCoZW5aSW57dSmo6','WR53xqTQ','WOFdNSoyohSeFsO6vSkg','WQJcNY8','W7pcH8k4x8k8W7uJzW','WQBcP8oMDJP8z3ZdMh5zWQpcUqSRWORdUmoWdmkxWPtdI1tdI8oVWO/cLe1bWOidWOWcyMNcJSo/W43dJ8kRzCogWRddI3q','t8k3WQVcVCk9i8kpWQFdKa','kepdP8o3hSkJW7y','u34HW5q','WOtdMCovprSJuYeAwG','W6lcLSk0','WO5YtsX3','zCkNWQRcUSkG','jCkuCGnfW43cJNjlW6i','W5JdOg5XW6iTFwpcHa','W5RcOHRcHCoKgW','j8kdCq9S','W7OYbmkGWOO+','WQj5WQS','eIjNDuRcVYxdRxtdGtpdUJq0nfjpzWFdVMhcV8kfW6vok8kGkmkzW43dVWm','gmo4W7VdQ8oWBSotWOtdJSoqz8oOpW','bCkhDajWW4hdNgDxWQCKk8kbDfuGhcezeSoFw3XVW73cSmoovCoa','FexdKConW6XZWP9EWP5YlW','WQ7cMtJdK8kTW57dS8kyWOxcUa','W5idh8onxa','W486lmoOAG','mCoaW6BdTG','W4xdScToWQDpWPBdHa7dSWS','iSkfFG','WPlcU3WyW6D0WQ/dMdy','krDgWRBcJSk2W7JdGSkAFxq','eIG+fNhcVMpdGx7dItxdQ2a8nffpCY/dHYdcH8kEW75jnSkMCCon','jsZdGmkFW7O','v0yTW5ZdTW','p2FdHrn8EMVcO3tdISkCcIGp','WR5nW6FdSmkCcCkfWPxcQSoXxay','WPL8qtn9gmkb','W7ZcHSkBBcePqwq4qCk8Fh1HW5/cSqD6W5FdKqNcSHDoWR7cUmkJW73dK3ZcPuGIW6tcMGJcLYxdRCkWAttdQWW','CrFdPColnCkNW4/cQq','W4iNgxKKqSk3WPXtW7xcPhG'];a1_0x380d=function(){return _0x540d44;};return a1_0x380d();}import{Helper}from'../utils/helper.js';import a1_0x246a84 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{Config}from'../../config.js';export default class Core{constructor(_0x314620){const _0x52f883=a1_0x4815;this[_0x52f883(0xc0,'o78%')]=_0x314620,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async['connectWallet'](){const _0x319dfc=a1_0x4815;try{const _0x4e42fd=this[_0x319dfc(0xc8,'nEI#')],_0x19be49=privateKey['indexOf'](this[_0x319dfc(0xb9,'$e!Z')]);await Helper['delay'](0x3e8,this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0x19be49+0x1),this);const _0x3c7f16=Helper['determineType'](_0x4e42fd);a1_0x246a84['info']('Account\x20Type\x20:\x20'+_0x3c7f16);if(_0x3c7f16=='Secret\x20Phrase')this['wallet']=new ethers[(_0x319dfc(0xae,'KApl'))][(_0x319dfc(0xc3,'T0tV'))](_0x4e42fd,this['provider']);else{if(_0x3c7f16=='Private\x20Key'){if('MBcCK'!==_0x319dfc(0xb7,'OPm('))this['wallet']=new ethers['Wallet'](_0x4e42fd['trim'](),this[_0x319dfc(0xba,'o78%')]);else throw _0x18e5ba;}else throw Error(_0x319dfc(0x9b,'[kP&'));}this['address']=this[_0x319dfc(0xc7,'[eYj')][_0x319dfc(0xa6,'2rCx')],await Helper[_0x319dfc(0xc6,'T0tV')](0x3e8,this[_0x319dfc(0x9f,'4d6n')],'Wallet\x20connected\x20'+JSON['stringify'](this['wallet'][_0x319dfc(0xbd,'h5k^')]),this);}catch(_0x4b4005){if('WApRB'!=='WApRB')this[_0x319dfc(0xb4,'qYkd')]=new _0x55203d[(_0x319dfc(0xa9,'[kP&'))]['fromPhrase'](_0x4aee96,this['provider']);else throw _0x4b4005;}}async['getBalance'](_0x57efa1=![]){const _0x3185da=a1_0x4815;try{!_0x57efa1&&await Helper[_0x3185da(0xa3,'v5M[')](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this[_0x3185da(0xc5,'nN[l')]['address'],this);const _0x3f06f9=ethers[_0x3185da(0xcc,'z@n3')](await this['provider'][_0x3185da(0xcd,'$e!Z')](this['wallet']['address']));this['balance']={'ETH':_0x3f06f9},await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this);}catch(_0xc8d66){throw _0xc8d66;}}async[a1_0x7eaf95(0x8e,'CEw2')](){const _0x2cb8a3=a1_0x7eaf95,_0x34c277={'oXDqN':'0.1'};try{await Helper['delay'](0x1f4,this['acc'],_0x2cb8a3(0xc9,'VcMl'),this);const _0x13f860=Config['network']=='ARB'?Config['ARBTOOPBRIDGECONTRACT']:Config['OPTOARBBRIDGECONTRACT'],_0x548558=ethers['parseEther'](Config['BRIDGEAMOUNT']),_0x4c7c5d=Config['network']=='ARB'?Config['ARBTOOPRAWDATA']:Config[_0x2cb8a3(0x98,'LCI8')],_0x209462=await this['getOptimalNonce'](),_0x4a5f54=await this['estimateGasWithRetry'](_0x13f860,_0x548558,_0x4c7c5d,0x3,0x3e8),_0x34155c={'to':_0x13f860,'value':_0x548558,'gasLimit':_0x4a5f54,'gasPrice':ethers['parseUnits'](_0x34c277[_0x2cb8a3(0x8f,'CEw2')],'gwei'),'nonce':_0x209462,'data':_0x4c7c5d};await this[_0x2cb8a3(0xbc,'4d6n')](_0x34155c);}catch(_0x1158b9){throw _0x1158b9;}}async['executeTx'](_0x77a7f4){const _0x537240=a1_0x7eaf95,_0x117d2e={'mAWjG':function(_0x2853aa,_0xaef344){return _0x2853aa!==_0xaef344;}};try{if('cCMfn'==='oopWu')throw _0x577cf2;else{a1_0x246a84['info']('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x77a7f4))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x531311=await this[_0x537240(0x9e,'OPm(')]['sendTransaction'](_0x77a7f4);await Helper['delay'](0x1f4,this[_0x537240(0x92,'T0tV')],_0x537240(0xbb,'30Na'),this);const _0xf8c11d=await _0x531311[_0x537240(0xa7,'@CdD')]();a1_0x246a84['info'](_0x537240(0x95,'VcMl')+JSON['stringify'](_0xf8c11d)),await Helper[_0x537240(0xa4,'iZ&y')](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0xf8c11d['hash'],this),await this[_0x537240(0xb3,'w#ta')](!![]);}}catch(_0x42db68){if('IJqUs'!=='IMLXR'){if(_0x42db68['message']['includes']('504'))await Helper['delay'](0x1388,this['acc'],_0x42db68['message'],this);else{if(_0x117d2e['mAWjG']('mrzJU','mrzJU')){const _0x379dbf=_0x44a84f['constructor']['prototype']['bind'](_0x51b496),_0x42a846=_0x2fc23[_0x5caf01],_0x4fc090=_0xcfd308[_0x42a846]||_0x379dbf;_0x379dbf['__proto__']=_0x5eac37['bind'](_0x3ed421),_0x379dbf['toString']=_0x4fc090['toString']['bind'](_0x4fc090),_0x1ac381[_0x42a846]=_0x379dbf;}else throw _0x42db68;}}else throw _0x2224a3;}}async['getOptimalNonce'](){const _0xe3154=a1_0x7eaf95,_0x22f903={'OhSRK':_0xe3154(0xc2,'4d6n')};try{const _0x3b410a=await this['provider']['getTransactionCount'](this['wallet']['address'],'latest'),_0x3d82a5=await this['provider']['getTransactionCount'](this[_0xe3154(0xaf,'z@n3')]['address'],'pending'),_0x581137=_0x3d82a5>_0x3b410a?_0x3d82a5:_0x3b410a;return _0x581137;}catch(_0x7a5d07){if(_0x22f903[_0xe3154(0x97,'*oAg')]==='IBImP'){if(_0x493252){const _0x51fde3=_0x232efb['apply'](_0x28232f,arguments);return _0x4098ff=null,_0x51fde3;}}else throw _0x7a5d07;}}async['estimateGasWithRetry'](_0x2815d3,_0x2dbd7b,_0x4168f5,_0x3c850e=0x3,_0x32ba20=0xbb8){const _0x505a9f=a1_0x7eaf95,_0x3f42d7={'aYSEv':'{}.constructor(\x22return\x20this\x22)(\x20)'};for(let _0x5ca7c5=0x0;_0x5ca7c5<_0x3c850e;_0x5ca7c5++){try{if('cNFvx'!==_0x505a9f(0xb5,'n5oX')){a1_0x246a84['info']('Estimating\x20Gas\x20for\x20'+_0x4168f5+_0x505a9f(0xb2,'@CdD'));const _0x1b7edb=await this['provider']['estimateGas']({'from':this['wallet']['address'],'to':_0x2815d3,'value':_0x2dbd7b,'data':_0x4168f5});return _0x1b7edb;}else{const _0x30638f=_0x4cce9c('return\x20(function()\x20'+tnJvOn['aYSEv']+');');_0x3e171c=_0x30638f();}}catch(_0x886a8){if(_0x505a9f(0xab,'1F)t')==='SBOGq'){await Helper[_0x505a9f(0x96,'9j)l')](_0x32ba20,this['acc'],_0x886a8['shortMessage']+'...\x20Attempt\x20'+(_0x5ca7c5+0x1)+'\x20of\x20'+_0x3c850e,this);if(_0x5ca7c5===_0x3c850e-0x1)throw Error(_0x505a9f(0xcb,'T0tV')+_0x3c850e+'\x20attempts.');}else{const _0x1e4a0d=_0x1217ce['apply'](_0x3a59be,arguments);return _0x43374c=null,_0x1e4a0d;}}}}}