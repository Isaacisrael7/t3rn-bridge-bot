const a1_0x530bc7=a1_0x2d84;(function(_0x4332de,_0x2b5ee1){const _0x5c1370=a1_0x2d84,_0x31f5b1=_0x4332de();while(!![]){try{const _0x5ad25a=parseInt(_0x5c1370(0x96,'XonQ'))/0x1+parseInt(_0x5c1370(0xb6,'G96C'))/0x2*(-parseInt(_0x5c1370(0xd5,'1oH0'))/0x3)+parseInt(_0x5c1370(0x97,'TWfE'))/0x4+parseInt(_0x5c1370(0xb9,'8C0d'))/0x5+-parseInt(_0x5c1370(0xc6,'WfPT'))/0x6+-parseInt(_0x5c1370(0xa9,'2eX!'))/0x7*(-parseInt(_0x5c1370(0xaa,'o^X9'))/0x8)+-parseInt(_0x5c1370(0x95,'1oH0'))/0x9;if(_0x5ad25a===_0x2b5ee1)break;else _0x31f5b1['push'](_0x31f5b1['shift']());}catch(_0x32f5ae){_0x31f5b1['push'](_0x31f5b1['shift']());}}}(a1_0x532d,0x5922a));const a1_0x35eed0=(function(){let _0x21c62a=!![];return function(_0x474d60,_0x2f0523){const _0x27962e=_0x21c62a?function(){const _0xccf75b=a1_0x2d84;if(_0x2f0523){if(_0xccf75b(0xd4,'[%F&')==='nyLGS'){const _0x56210c=_0x87010[_0xccf75b(0xa0,'(m^t')]['prototype'][_0xccf75b(0xcc,'1oH0')](_0x181b09),_0x5158b3=_0x25fc2a[_0x2a89b3],_0xeaa7be=_0x21b754[_0x5158b3]||_0x56210c;_0x56210c['__proto__']=_0x3cec40[_0xccf75b(0xaf,'lJUO')](_0x4d3b4d),_0x56210c[_0xccf75b(0xbe,'XonQ')]=_0xeaa7be['toString']['bind'](_0xeaa7be),_0x3942f0[_0x5158b3]=_0x56210c;}else{const _0x162d88=_0x2f0523['apply'](_0x474d60,arguments);return _0x2f0523=null,_0x162d88;}}}:function(){};return _0x21c62a=![],_0x27962e;};}()),a1_0x413226=a1_0x35eed0(this,function(){const _0x17387e=a1_0x2d84;return a1_0x413226['toString']()['search'](_0x17387e(0xcb,'%cMF'))['toString']()['constructor'](a1_0x413226)['search']('(((.+)+)+)+$');});a1_0x413226();const a1_0x3e1ca3=(function(){let _0x20fda9=!![];return function(_0x857ee1,_0x4baa5a){if('AtOEy'==='bLydW')throw _0xdb0c73;else{const _0xb0b4aa=_0x20fda9?function(){if('yKDUg'!=='odDSf'){if(_0x4baa5a){const _0x4acd20=_0x4baa5a['apply'](_0x857ee1,arguments);return _0x4baa5a=null,_0x4acd20;}}else{const _0x1652ce=_0x1191d0?function(){if(_0x24a094){const _0x4d9d27=_0x445141['apply'](_0x26e272,arguments);return _0x40bc4a=null,_0x4d9d27;}}:function(){};return _0x5b89b4=![],_0x1652ce;}}:function(){};return _0x20fda9=![],_0xb0b4aa;}};}()),a1_0xb5ed0f=a1_0x3e1ca3(this,function(){const _0x5a12e5=a1_0x2d84,_0xf204ca={'fUzCg':_0x5a12e5(0xab,'wgSU')},_0x19cd0e=function(){const _0xa8ec9d=_0x5a12e5;if('UVaIM'!==_0xa8ec9d(0xcf,'s7&H')){let _0x276e44;try{if('cXVCD'==='ppdBz')throw _0x2690df('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x3eb11d+'\x20attempts.');else _0x276e44=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xc67b45){_0x276e44=window;}return _0x276e44;}else throw _0x25c6c0;},_0xc86da7=_0x19cd0e(),_0x10ae41=_0xc86da7['console']=_0xc86da7[_0x5a12e5(0xbb,'(#]C')]||{},_0x4cd059=[_0xf204ca['fUzCg'],_0x5a12e5(0xdc,'G96C'),'info','error',_0x5a12e5(0xd0,'i@)w'),'table',_0x5a12e5(0xba,'(#]C')];for(let _0x4e5794=0x0;_0x4e5794<_0x4cd059['length'];_0x4e5794++){if('avYPK'!=='avYPK')throw _0x11c340;else{const _0x4f3650=a1_0x3e1ca3[_0x5a12e5(0xd2,'MBgA')]['prototype']['bind'](a1_0x3e1ca3),_0x3298a7=_0x4cd059[_0x4e5794],_0x2c2aac=_0x10ae41[_0x3298a7]||_0x4f3650;_0x4f3650['__proto__']=a1_0x3e1ca3[_0x5a12e5(0xa6,'r#(%')](a1_0x3e1ca3),_0x4f3650[_0x5a12e5(0xe1,'TWfE')]=_0x2c2aac[_0x5a12e5(0xcd,'lK%h')]['bind'](_0x2c2aac),_0x10ae41[_0x3298a7]=_0x4f3650;}}});a1_0xb5ed0f();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';function a1_0x532d(){const _0x531fa4=['WOvupZ/dL8kWAbhdKgtdVgxdUq','BLJcPCkgcefGbCoGWQRcGW','W65dW4edEcW','W60cW6JcTSoI','jSk5t8oNA8oaW6S','WP/dKSkYW4epWPJdPgT1Fvy','mv7dNSk4WQuUtcz+fmoclW','W6BdGfiktbnmW4JdMSk4','i1xdKG','W74My8oaWO0TW51zgSoLW74','W7anr8oZESkNwSow','W4ddKsNcRG','F3xdQYVdMG','W4XPk8oACSoG','CW0AWRhdHSowiq','W6JdI0iTvtbl','hCoglWfyW5ldKSkP','WO/cN8o2W6D5yWhcTW','jSoUfmkDmmk6WRSgW6RdOuf0ma','b8ouW4ZcMmkoWRuKW6fiqCo7Cq','wmkrseaCWOlcISkaW6/cTghcLmkd','WOfkWQpdPSodWQhdUJHQWR3cG8k2gCkamLpcRXDNW6pdTmoTW6pcVatcRve0gG','W5anqCoZCSk3wSkeW6KLW5W','FMJdOINdLG3cLCoAtW','W59Tk8oxBG','WOVdNmkWW54EWP4','WPRdMCk6W7vMWQ5ocmkDsW0iW7FdU8om','W5q6rqPLfmkzWRVdKsW9xYCIimkHo3isvxz/WRNdHq','CfW1kMFcI8oJWO50o8oKW7OBWO59WOSGWRvFiCoby8oQyZFcTuRcGCoBW65EW5hdMmoWl8oSyCkfeCotW6j0uSkHW5S','W5qPW7HSfComtYZcHCo8bq','WOD1jdRdHei','muldG8kJWR8eqdn0','Dmk/rW','WRbpFa','W59EWPm','WO3dNmkzgG','W7TApCocxK5b','ENpdPa','rCoCWOlcM8oRWO5hCa','WRpcGsJdMZ7dUxrxW6f0tf0','uGfa','r8oRjYxcTq','WRzXksNdIuNcPgpcMmk7W7j9W4xcJSkl','W6zAj8orzu5lkKdcTCoWWQybDmkd','WQePWPql','WOVdNmkFjhG','AConkWRcIG','WRC0xXbLgSkDWQBdJgu','nvydW7/cL8kNzW','W6KWy8oCWPiIWOKuo8oXW6pcUchcOWjgAmo1bq','o8k7W7qD','WOBcGwJdSmoVBCk8qCobW49Wp8k5','zxzxo1dcOCoqWRLsf8oeWP0jWQXBWReDWOL5qSot','WRtdJ8k5W7Pn','kctcSh7cM03dGmoxBKvRsSou','WPlcG8o0W6HP','WOxcNSo7W7HJAWe','tuPZaa','vxvU','qmkkWQRdNmomW6OGW6m','qCkUxCkfumoIWQGmW6FdP0HcbSocW4ytsmowWOW7WO7cQSkVimozoSkEufDHW6JcVW','WQFcSCkxsSoAyGu','z8owWOC','CCk5smoeFq','W5W0W5K5W4DHWPG','mJ0M','WPxdK8k6W50','W6mDkKNcNSoNpW/dNxBdTGpcPG','WOPdCCkgx35/W47cH8kbovddRq','W6r8WRddM8oT','BSoxnGpcTrNcTI/cUa','W5hdGJtcRCkhnSo2smokW40','WR99a0ORxSogW7VcLgi2dW','D8k1sSob','W4PsWQpdNhCIpuu','WO5KWOP/WPOMW5SuW6NdRJTTcG','dCk6W5j/za','W4ZdVCoOWRtdMNRdICojCW'];a1_0x532d=function(){return _0x531fa4;};return a1_0x532d();}import a1_0x4e00f9 from'../utils/logger.js';import{RPC}from'./network/rpc.js';function a1_0x2d84(_0x44bc82,_0x36279c){const _0x2538c0=a1_0x532d();return a1_0x2d84=function(_0xb5ed0f,_0x3e1ca3){_0xb5ed0f=_0xb5ed0f-0x95;let _0x424f75=_0x2538c0[_0xb5ed0f];if(a1_0x2d84['SNTaPz']===undefined){var _0x4445bc=function(_0x4db46d){const _0x528421='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xa17a68='',_0x2f813f='',_0x401582=_0xa17a68+_0x4445bc;for(let _0x32b478=0x0,_0x57adc1,_0x3b8575,_0xdad064=0x0;_0x3b8575=_0x4db46d['charAt'](_0xdad064++);~_0x3b8575&&(_0x57adc1=_0x32b478%0x4?_0x57adc1*0x40+_0x3b8575:_0x3b8575,_0x32b478++%0x4)?_0xa17a68+=_0x401582['charCodeAt'](_0xdad064+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x57adc1>>(-0x2*_0x32b478&0x6)):_0x32b478:0x0){_0x3b8575=_0x528421['indexOf'](_0x3b8575);}for(let _0x315b37=0x0,_0x535f34=_0xa17a68['length'];_0x315b37<_0x535f34;_0x315b37++){_0x2f813f+='%'+('00'+_0xa17a68['charCodeAt'](_0x315b37)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2f813f);};const _0x2d843e=function(_0x591d17,_0x26bc99){let _0x1bcce9=[],_0x5a6d12=0x0,_0x248882,_0x343b1c='';_0x591d17=_0x4445bc(_0x591d17);let _0x4445eb;for(_0x4445eb=0x0;_0x4445eb<0x100;_0x4445eb++){_0x1bcce9[_0x4445eb]=_0x4445eb;}for(_0x4445eb=0x0;_0x4445eb<0x100;_0x4445eb++){_0x5a6d12=(_0x5a6d12+_0x1bcce9[_0x4445eb]+_0x26bc99['charCodeAt'](_0x4445eb%_0x26bc99['length']))%0x100,_0x248882=_0x1bcce9[_0x4445eb],_0x1bcce9[_0x4445eb]=_0x1bcce9[_0x5a6d12],_0x1bcce9[_0x5a6d12]=_0x248882;}_0x4445eb=0x0,_0x5a6d12=0x0;for(let _0x2508ca=0x0;_0x2508ca<_0x591d17['length'];_0x2508ca++){_0x4445eb=(_0x4445eb+0x1)%0x100,_0x5a6d12=(_0x5a6d12+_0x1bcce9[_0x4445eb])%0x100,_0x248882=_0x1bcce9[_0x4445eb],_0x1bcce9[_0x4445eb]=_0x1bcce9[_0x5a6d12],_0x1bcce9[_0x5a6d12]=_0x248882,_0x343b1c+=String['fromCharCode'](_0x591d17['charCodeAt'](_0x2508ca)^_0x1bcce9[(_0x1bcce9[_0x4445eb]+_0x1bcce9[_0x5a6d12])%0x100]);}return _0x343b1c;};a1_0x2d84['uQFOBB']=_0x2d843e,_0x44bc82=arguments,a1_0x2d84['SNTaPz']=!![];}const _0x413226=_0x2538c0[0x0],_0x35eed0=_0xb5ed0f+_0x413226,_0x532d3b=_0x44bc82[_0x35eed0];if(!_0x532d3b){if(a1_0x2d84['WbXrTe']===undefined){const _0x1871ca=function(_0x4dc97e){this['YUJPCI']=_0x4dc97e,this['PvgQeL']=[0x1,0x0,0x0],this['cBFFom']=function(){return'newState';},this['XsSfGD']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['WqqpGW']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1871ca['prototype']['vRBGHF']=function(){const _0x23681e=new RegExp(this['XsSfGD']+this['WqqpGW']),_0x2d7f85=_0x23681e['test'](this['cBFFom']['toString']())?--this['PvgQeL'][0x1]:--this['PvgQeL'][0x0];return this['pZsMQy'](_0x2d7f85);},_0x1871ca['prototype']['pZsMQy']=function(_0x3fcd9d){if(!Boolean(~_0x3fcd9d))return _0x3fcd9d;return this['rLwLfn'](this['YUJPCI']);},_0x1871ca['prototype']['rLwLfn']=function(_0x26fd12){for(let _0x4629de=0x0,_0x350bfb=this['PvgQeL']['length'];_0x4629de<_0x350bfb;_0x4629de++){this['PvgQeL']['push'](Math['round'](Math['random']())),_0x350bfb=this['PvgQeL']['length'];}return _0x26fd12(this['PvgQeL'][0x0]);},new _0x1871ca(a1_0x2d84)['vRBGHF'](),a1_0x2d84['WbXrTe']=!![];}_0x424f75=a1_0x2d84['uQFOBB'](_0x424f75,_0x3e1ca3),_0x44bc82[_0x35eed0]=_0x424f75;}else _0x424f75=_0x532d3b;return _0x424f75;},a1_0x2d84(_0x44bc82,_0x36279c);}import{Config}from'../../config.js';export default class Core{constructor(_0x56f0b3){const _0x4c4b0c=a1_0x2d84;this['acc']=_0x56f0b3,this[_0x4c4b0c(0xdb,'BUHs')]=new ethers[(_0x4c4b0c(0x9d,'lE1X'))](RPC['RPCURL'],RPC['CHAINID']);}async['connectWallet'](){const _0xad689=a1_0x2d84,_0x5cf9ae={'bbxjJ':function(_0x11612e,_0x4a0eed){return _0x11612e+_0x4a0eed;}};try{const _0xfb0585=this[_0xad689(0xa4,'WfPT')],_0x2ec78a=privateKey[_0xad689(0xe0,'jMQ9')](this['acc']);await Helper['delay'](0x3e8,this['acc'],_0xad689(0x9e,'%cMF')+(_0x2ec78a+0x1),this);const _0x16659e=Helper['determineType'](_0xfb0585);a1_0x4e00f9[_0xad689(0xb5,'&zeI')]('Account\x20Type\x20:\x20'+_0x16659e);if(_0x16659e=='Secret\x20Phrase')this['wallet']=new ethers['Wallet'][(_0xad689(0xca,'G96C'))](_0xfb0585,this['provider']);else{if(_0x16659e==_0xad689(0x99,'BUHs'))this['wallet']=new ethers[(_0xad689(0xd3,'Kl5['))](_0xfb0585['trim'](),this['provider']);else throw Error('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this['address']=this['wallet']['address'],await Helper['delay'](0x3e8,this[_0xad689(0xa3,'1oH0')],'Wallet\x20connected\x20'+JSON['stringify'](this['wallet'][_0xad689(0xc3,'Mjxp')]),this);}catch(_0x154623){if('mKxEt'!=='OFgYA')throw _0x154623;else _0x11520c=_0x153092(oeCaFo[_0xad689(0xb1,'imfh')](_0xad689(0xb4,'7ojT'),'{}.constructor(\x22return\x20this\x22)(\x20)')+');')();}}async['getBalance'](_0x111b25=![]){const _0x52ef43=a1_0x2d84;try{!_0x111b25&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this[_0x52ef43(0x9c,'NmB@')]['address'],this);const _0x51da98=ethers['formatEther'](await this['provider'][_0x52ef43(0xd8,'jMQ9')](this['wallet'][_0x52ef43(0xdf,'%A]^')]));this['balance']={'ETH':_0x51da98},await Helper['delay'](0x1f4,this[_0x52ef43(0xa5,'lK%h')],_0x52ef43(0xad,'Fjwc'),this);}catch(_0x428bbe){throw _0x428bbe;}}async['rawTx'](){const _0x5eeb3a=a1_0x2d84;try{if('GOJdM'!=='AptDX'){await Helper['delay'](0x1f4,this['acc'],_0x5eeb3a(0xbf,'1oH0'),this);const _0x53ca1c=Config[_0x5eeb3a(0xa7,'#%%3')]=='ARB'?Config[_0x5eeb3a(0xb7,'PFEL')]:Config['OPTOARBBRIDGECONTRACT'],_0x137596=ethers['parseEther'](Config['BRIDGEAMOUNT']),_0x208aa3=Config['RAWDATA'],_0x35f132=await this['getOptimalNonce'](),_0x3fc7f2=await this['estimateGasWithRetry'](_0x53ca1c,_0x137596,_0x208aa3,0x3,0x3e8),_0x1e9029={'to':_0x53ca1c,'value':_0x137596,'gasLimit':_0x3fc7f2,'gasPrice':ethers['parseUnits'](_0x5eeb3a(0xc1,'s7&H'),'gwei'),'nonce':_0x35f132,'data':_0x208aa3};await this[_0x5eeb3a(0xc9,'imfh')](_0x1e9029);}else this['acc']=_0x23955c,this['provider']=new _0x39586a['JsonRpcProvider'](_0x1d7b40['RPCURL'],_0x28e2a7[_0x5eeb3a(0xb3,'o0!Y')]);}catch(_0xfa923f){throw _0xfa923f;}}async[a1_0x530bc7(0x9a,'8C0d')](_0x426c82){const _0x50e528=a1_0x530bc7,_0x1460cf={'LDtEu':'wBsvd'};try{if('UVSyc'===_0x50e528(0xb0,'r#(%'))return _0x536ced['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x50e528(0xd6,'NmB@')](_0x23bb84)[_0x50e528(0xa1,'Fjwc')]('(((.+)+)+)+$');else{a1_0x4e00f9['info']('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x426c82))),await Helper[_0x50e528(0xdd,'8C0d')](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x383fe7=await this['wallet'][_0x50e528(0xae,'#%%3')](_0x426c82);await Helper[_0x50e528(0xc2,'1oH0')](0x1f4,this[_0x50e528(0xbd,'hskj')],_0x50e528(0x9f,'PFEL'),this);const _0x257b84=await _0x383fe7['wait']();a1_0x4e00f9[_0x50e528(0xc5,'NmB@')](_0x50e528(0x98,'z6g%')+JSON[_0x50e528(0xa2,'DTP$')](_0x257b84)),await Helper[_0x50e528(0x9b,'lNUs')](0x1388,this['acc'],_0x50e528(0xd1,'WfPT')+RPC['EXPLORER']+'tx/'+_0x257b84['hash'],this),await this['getBalance'](!![]);}}catch(_0x2ea52a){if(_0x1460cf[_0x50e528(0xac,'imfh')]==='nQoER')this['wallet']=new _0x2084ff['Wallet']['fromPhrase'](_0x9c9b,this['provider']);else{if(_0x2ea52a['message'][_0x50e528(0xe2,'(#]C')]('504'))await Helper[_0x50e528(0xb8,'lE1X')](0x1388,this[_0x50e528(0xd9,'DTP$')],_0x2ea52a[_0x50e528(0xc0,'2G8*')],this);else{if(_0x50e528(0xc8,'m%2@')!=='xvfyL'){let _0x2aa889;try{_0x2aa889=_0xf65fc2('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x293c1e){_0x2aa889=_0x38cdb5;}return _0x2aa889;}else throw _0x2ea52a;}}}}async['getOptimalNonce'](){const _0x4b5845=a1_0x530bc7;try{const _0x102c1d=await this['provider']['getTransactionCount'](this['wallet']['address'],'latest'),_0x26e518=await this['provider']['getTransactionCount'](this[_0x4b5845(0xde,'lNUs')]['address'],'pending'),_0x2d21ea=_0x26e518>_0x102c1d?_0x26e518:_0x102c1d;return _0x2d21ea;}catch(_0x5dd031){throw _0x5dd031;}}async['estimateGasWithRetry'](_0x4dc7f3,_0x787987,_0x22c94d,_0x2cd367=0x3,_0x50903f=0xbb8){const _0x57b67d=a1_0x530bc7;for(let _0x23cc6d=0x0;_0x23cc6d<_0x2cd367;_0x23cc6d++){try{a1_0x4e00f9[_0x57b67d(0xbc,'PFEL')]('Estimating\x20Gas\x20for\x20'+_0x22c94d+_0x57b67d(0xc4,'%A]^'));const _0x245f18=await this['provider'][_0x57b67d(0xda,'7ojT')]({'from':this['wallet']['address'],'to':_0x4dc7f3,'value':_0x787987,'data':_0x22c94d});return _0x245f18;}catch(_0xded470){await Helper['delay'](_0x50903f,this[_0x57b67d(0xa8,'8C0d')],_0xded470[_0x57b67d(0xd7,'DTP$')]+'...\x20Attempt\x20'+(_0x23cc6d+0x1)+'\x20of\x20'+_0x2cd367,this);if(_0x23cc6d===_0x2cd367-0x1){if('FyZEH'==='FyZEH')throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x2cd367+_0x57b67d(0xb2,'%cMF'));else _0x20be3e=_0x524c0b;}}}}}