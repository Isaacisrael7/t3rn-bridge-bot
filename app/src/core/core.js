const a1_0x285225=a1_0x12b4;(function(_0xb2817b,_0x5a24d1){const _0xa3b530=a1_0x12b4,_0x1bced3=_0xb2817b();while(!![]){try{const _0x47b370=parseInt(_0xa3b530(0x16f,'EgwJ'))/0x1+-parseInt(_0xa3b530(0x191,'2T#i'))/0x2+parseInt(_0xa3b530(0x166,'iFbW'))/0x3+-parseInt(_0xa3b530(0x187,'uoHT'))/0x4+-parseInt(_0xa3b530(0x198,'v(&%'))/0x5*(-parseInt(_0xa3b530(0x17d,'uA^6'))/0x6)+-parseInt(_0xa3b530(0x197,'[Bhm'))/0x7+-parseInt(_0xa3b530(0x199,'0dZf'))/0x8*(-parseInt(_0xa3b530(0x174,'9bGU'))/0x9);if(_0x47b370===_0x5a24d1)break;else _0x1bced3['push'](_0x1bced3['shift']());}catch(_0x391606){_0x1bced3['push'](_0x1bced3['shift']());}}}(a1_0x1f7f,0x6df1a));const a1_0x182157=(function(){let _0x3ecdc0=!![];return function(_0x3cff43,_0x4deb73){const _0x44c3f2=a1_0x12b4,_0x5bd1a5={'JCExA':_0x44c3f2(0x183,'#tGV')};if('TaMGc'==='TaMGc'){const _0x3d4735=_0x3ecdc0?function(){const _0xc573f4=_0x44c3f2;if(_0xc573f4(0x19a,'6sF[')!==_0x5bd1a5[_0xc573f4(0x185,'Fue%')]){if(_0x4deb73){if('fwMZN'==='Toyzu'){const _0x147dc=_0x3dd1ad?function(){if(_0x51450d){const _0x1a9734=_0x4c780f['apply'](_0x5a8ceb,arguments);return _0x44be5c=null,_0x1a9734;}}:function(){};return _0x4643dd=![],_0x147dc;}else{const _0x2a6b57=_0x4deb73[_0xc573f4(0x195,'!XvW')](_0x3cff43,arguments);return _0x4deb73=null,_0x2a6b57;}}}else{if(_0x2bd33d){const _0x469edf=_0x5f4dc3['apply'](_0x138214,arguments);return _0x4d3e27=null,_0x469edf;}}}:function(){};return _0x3ecdc0=![],_0x3d4735;}else this[_0x44c3f2(0x16c,'$bff')]=_0x30eb3e,this['provider']=new _0x4c0242['JsonRpcProvider'](_0x409950['RPCURL'],_0x9dd6c5['CHAINID']);};}()),a1_0x25ef38=a1_0x182157(this,function(){const _0x1db869=a1_0x12b4;return a1_0x25ef38[_0x1db869(0x1a5,'Fue%')]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a1_0x25ef38)['search']('(((.+)+)+)+$');});function a1_0x1f7f(){const _0x33335e=['tmocwmo4','Bmofcb7cGvW9Aa','W6JdUmorW5e','W60Ok8oZW4hcTtNdGb4cWR/cO8kvsmoP','abi9AJ7cJCon','WOvMW5XluLmYkLLskCoyma','dCoJACkjW5y','geJcH8kSWRL2tSoc','WR0ycSk5WOmKW45EgINdImklWPPDWQyIW6r5cuLMW491WQqMc8k8W7FdICkLWPLJ','W58gaCoXiGfUWOvKh8ktnG','WOvRWR/cS8oyESkXW6rAW6bjW6a','gmkOFh0','bSktdxDhW7JdLa','W7pdHCo4WPqlmJzdWQtdMSo1i8kiWR3cUa','hmkXtmoTjCoVW47cVarPja','WPW1nG','dConWQW','wCokrmoY','wCkffSoUWOmlWOCVW6FdNaqC','WPHyySkYyfXKWO8','uMxcQCoOWQ8yW6K','W511f8oyWO8','W4jDpmoFWOZdPq9WACoe','WQeSW4m+oSkRW4xcGmk8','W4RdR8ktj2O','W5ldGvhdKYhcM8kJAmkzDSoZW5xcLqnXbmoyW4qm','W5nFlq','W5BdJmkpW7S','W6yjbSojW5ZcIGRdKJ4KWO3cJCk0BSouWP/cKZZcMIVdNa','W4nhp8oVW5y','W6xdTSkv','EZ3dNmoUW6y','WRZcKvfKWPlcVSkX','WQGyc8okWRHZWPNdTG','WQ00m0hcUa','tGNdICoWW7W','lw/dTvxcVSoKWRtdPINdSSo0j2DvW7tcRwxdSsBcLCkyW6VcQmoC','nHC1Dd7cIG','rSoDlsddPG','W486n8o1','uSoPhHlcSG','B8k9lCoe','wGRdKCoIW6CKe8oGw8o4qulcUq','lmoVfIpdUa','BY1bWPDZW6i','WQlcUCkxWPS0W7dcJCorWOPqWQpcOq','FmoYW4i7EmolWRS','mtyMW4BdSgNcS8kjvIW','hghdRg/cOW','W7X7n8o6WP0','baqRDYK','xmoeW6q','hCkFaSkQvSonCgiDd8k4fq','WRSslmo8WQT2WPBdV8oVW5m','W5xdN8khW6ZdUW','W5mZWOKsha','W6xdPCkgbhC','aCk4fG','WPlcN8osWRBcQe4wDCoLW5xdVNaU','WO3cSshdG3b2F8ochfldL8oRFW','WPjQFCkVWQVcSHJdOXyuWR4','W4ZdLmobWRqL','jIe9W7ldUghcT8kv','mCk4Ch3dPq','eSk0A0/dPG','jIPwWOhcUq','W45QW65BW7NdGZpcSSkl','WPS6WRTZW5BdQtm','s8oveaVdUYm','pmoxcrFdRG','WRHpeCkfFvTSWOfrfCkCgZRcPZxdLr7cIXtdKY/dJCksW59MWQPFW6RcKq'];a1_0x1f7f=function(){return _0x33335e;};return a1_0x1f7f();}a1_0x25ef38();const a1_0x598e88=(function(){let _0x3fbccf=!![];return function(_0x200d3b,_0x25c4d6){const _0x3bb946=_0x3fbccf?function(){const _0x1629e1=a1_0x12b4;if(_0x25c4d6){if(_0x1629e1(0x19d,'Ir#(')!=='mZbir'){const _0x1e01c8=_0x25c4d6['apply'](_0x200d3b,arguments);return _0x25c4d6=null,_0x1e01c8;}else{const _0x10f17b=_0x672716['constructor']['prototype']['bind'](_0x1585ef),_0x531284=_0x20d03a[_0x15507b],_0x3fdbba=_0x338c19[_0x531284]||_0x10f17b;_0x10f17b['__proto__']=_0x22dd5c['bind'](_0x1b4a38),_0x10f17b['toString']=_0x3fdbba['toString'][_0x1629e1(0x1a4,'2T#i')](_0x3fdbba),_0x19d30d[_0x531284]=_0x10f17b;}}}:function(){};return _0x3fbccf=![],_0x3bb946;};}()),a1_0x38b7af=a1_0x598e88(this,function(){const _0x2d01ef=a1_0x12b4,_0x120994={'ibOTs':function(_0x3a2b2b,_0xae5021){return _0x3a2b2b!==_0xae5021;},'yyUAf':'table','JGESX':_0x2d01ef(0x193,'[Bhm')},_0x504f6b=function(){const _0x240b45=_0x2d01ef;let _0x12a72c;try{_0x12a72c=Function('return\x20(function()\x20'+_0x240b45(0x165,'he31')+');')();}catch(_0x433fd4){_0x120994[_0x240b45(0x19e,'EL^7')](_0x240b45(0x17f,'h7O$'),_0x240b45(0x17a,'bp#7'))?_0x12a72c=window:_0x48cca4=_0x452c4e;}return _0x12a72c;},_0x522e3a=_0x504f6b(),_0x2d27e0=_0x522e3a['console']=_0x522e3a['console']||{},_0x52d9a9=['log',_0x2d01ef(0x16e,'2T#i'),'info',_0x2d01ef(0x18f,'a#oY'),'exception',_0x120994['yyUAf'],_0x120994['JGESX']];for(let _0x4be89e=0x0;_0x4be89e<_0x52d9a9['length'];_0x4be89e++){const _0x438bde=a1_0x598e88['constructor']['prototype'][_0x2d01ef(0x1a6,'Oqlk')](a1_0x598e88),_0x1acddd=_0x52d9a9[_0x4be89e],_0x1751b2=_0x2d27e0[_0x1acddd]||_0x438bde;_0x438bde['__proto__']=a1_0x598e88[_0x2d01ef(0x168,'Ir#(')](a1_0x598e88),_0x438bde['toString']=_0x1751b2[_0x2d01ef(0x170,'iFbW')]['bind'](_0x1751b2),_0x2d27e0[_0x1acddd]=_0x438bde;}});a1_0x38b7af();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a1_0x59a81f from'../utils/logger.js';function a1_0x12b4(_0x5505ae,_0x5092fc){const _0x427139=a1_0x1f7f();return a1_0x12b4=function(_0x38b7af,_0x598e88){_0x38b7af=_0x38b7af-0x161;let _0x3f3d6d=_0x427139[_0x38b7af];if(a1_0x12b4['kXudCU']===undefined){var _0xd09264=function(_0x122782){const _0x3b72ed='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2f8d72='',_0x4fade5='',_0x32f5d5=_0x2f8d72+_0xd09264;for(let _0x213b9f=0x0,_0x1e7804,_0x36192e,_0x54ed8e=0x0;_0x36192e=_0x122782['charAt'](_0x54ed8e++);~_0x36192e&&(_0x1e7804=_0x213b9f%0x4?_0x1e7804*0x40+_0x36192e:_0x36192e,_0x213b9f++%0x4)?_0x2f8d72+=_0x32f5d5['charCodeAt'](_0x54ed8e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1e7804>>(-0x2*_0x213b9f&0x6)):_0x213b9f:0x0){_0x36192e=_0x3b72ed['indexOf'](_0x36192e);}for(let _0x48e712=0x0,_0x11dd9a=_0x2f8d72['length'];_0x48e712<_0x11dd9a;_0x48e712++){_0x4fade5+='%'+('00'+_0x2f8d72['charCodeAt'](_0x48e712)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4fade5);};const _0x12b436=function(_0x594011,_0xd60fcc){let _0x20ae96=[],_0x28a902=0x0,_0x683439,_0x51c66b='';_0x594011=_0xd09264(_0x594011);let _0x21e618;for(_0x21e618=0x0;_0x21e618<0x100;_0x21e618++){_0x20ae96[_0x21e618]=_0x21e618;}for(_0x21e618=0x0;_0x21e618<0x100;_0x21e618++){_0x28a902=(_0x28a902+_0x20ae96[_0x21e618]+_0xd60fcc['charCodeAt'](_0x21e618%_0xd60fcc['length']))%0x100,_0x683439=_0x20ae96[_0x21e618],_0x20ae96[_0x21e618]=_0x20ae96[_0x28a902],_0x20ae96[_0x28a902]=_0x683439;}_0x21e618=0x0,_0x28a902=0x0;for(let _0x391d0b=0x0;_0x391d0b<_0x594011['length'];_0x391d0b++){_0x21e618=(_0x21e618+0x1)%0x100,_0x28a902=(_0x28a902+_0x20ae96[_0x21e618])%0x100,_0x683439=_0x20ae96[_0x21e618],_0x20ae96[_0x21e618]=_0x20ae96[_0x28a902],_0x20ae96[_0x28a902]=_0x683439,_0x51c66b+=String['fromCharCode'](_0x594011['charCodeAt'](_0x391d0b)^_0x20ae96[(_0x20ae96[_0x21e618]+_0x20ae96[_0x28a902])%0x100]);}return _0x51c66b;};a1_0x12b4['EoiAWM']=_0x12b436,_0x5505ae=arguments,a1_0x12b4['kXudCU']=!![];}const _0x25ef38=_0x427139[0x0],_0x182157=_0x38b7af+_0x25ef38,_0x1f7fcf=_0x5505ae[_0x182157];if(!_0x1f7fcf){if(a1_0x12b4['OxwExj']===undefined){const _0xf034d0=function(_0x49f40b){this['aTOmlS']=_0x49f40b,this['gItrPH']=[0x1,0x0,0x0],this['xIBdEU']=function(){return'newState';},this['aqApOi']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['keQFCn']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xf034d0['prototype']['FgXrye']=function(){const _0x1d2f6b=new RegExp(this['aqApOi']+this['keQFCn']),_0x386162=_0x1d2f6b['test'](this['xIBdEU']['toString']())?--this['gItrPH'][0x1]:--this['gItrPH'][0x0];return this['ErGogT'](_0x386162);},_0xf034d0['prototype']['ErGogT']=function(_0x4eddf9){if(!Boolean(~_0x4eddf9))return _0x4eddf9;return this['ieEgxb'](this['aTOmlS']);},_0xf034d0['prototype']['ieEgxb']=function(_0x1e2089){for(let _0xf6cc5e=0x0,_0x155f73=this['gItrPH']['length'];_0xf6cc5e<_0x155f73;_0xf6cc5e++){this['gItrPH']['push'](Math['round'](Math['random']())),_0x155f73=this['gItrPH']['length'];}return _0x1e2089(this['gItrPH'][0x0]);},new _0xf034d0(a1_0x12b4)['FgXrye'](),a1_0x12b4['OxwExj']=!![];}_0x3f3d6d=a1_0x12b4['EoiAWM'](_0x3f3d6d,_0x598e88),_0x5505ae[_0x182157]=_0x3f3d6d;}else _0x3f3d6d=_0x1f7fcf;return _0x3f3d6d;},a1_0x12b4(_0x5505ae,_0x5092fc);}import{RPC}from'./network/rpc.js';import{Config}from'../../config.js';export default class Core{constructor(_0x2d885a){const _0x83db12=a1_0x12b4;this['acc']=_0x2d885a,this[_0x83db12(0x164,'uoHT')]=new ethers[(_0x83db12(0x1a7,'0dZf'))](RPC['RPCURL'],RPC['CHAINID']);}async['connectWallet'](){const _0x32a2b7=a1_0x12b4,_0x32a4df={'qodtO':function(_0x17c96b,_0x83c020){return _0x17c96b+_0x83c020;},'kNHWO':function(_0x54049e,_0x276c02){return _0x54049e==_0x276c02;},'oIYtf':_0x32a2b7(0x19c,'Ir#(')};try{if('NGyVt'===_0x32a2b7(0x18e,'nbGM')){const _0x19cd33=this['acc'],_0x19b4e9=privateKey['indexOf'](this['acc']);await Helper['delay'](0x3e8,this['acc'],_0x32a2b7(0x181,'!d#v')+_0x32a4df['qodtO'](_0x19b4e9,0x1),this);const _0x2f5da1=Helper['determineType'](_0x19cd33);a1_0x59a81f[_0x32a2b7(0x186,'JH&b')]('Account\x20Type\x20:\x20'+_0x2f5da1);if(_0x32a4df['kNHWO'](_0x2f5da1,'Secret\x20Phrase')){if('LWeYX'!=='cWLZh')this['wallet']=new ethers['Wallet']['fromPhrase'](_0x19cd33,this[_0x32a2b7(0x19b,'O^lS')]);else throw _0x5cbdf3;}else{if(_0x2f5da1=='Private\x20Key')this['wallet']=new ethers['Wallet'](_0x19cd33['trim'](),this['provider']);else{if('KybdM'===_0x32a4df[_0x32a2b7(0x172,'nbGM')])throw Error('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');else throw _0x1bbe94;}}this[_0x32a2b7(0x18b,'hc$G')]=this['wallet']['address'],await Helper['delay'](0x3e8,this['acc'],'Wallet\x20connected\x20'+JSON['stringify'](this['wallet'][_0x32a2b7(0x161,'a#oY')]),this);}else{const _0x3404a3=_0xd60fcc?function(){if(_0x391d0b){const _0xc744f5=_0x386162['apply'](_0x4eddf9,arguments);return _0x1e2089=null,_0xc744f5;}}:function(){};return _0x21e618=![],_0x3404a3;}}catch(_0x37dbbe){if('HBhUc'!=='HBhUc')throw _0x5a2915('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');else throw _0x37dbbe;}}async['getBalance'](_0x3e6412=![]){const _0x558f36=a1_0x12b4;try{!_0x3e6412&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this['wallet']['address'],this);const _0x5d2744=ethers['formatEther'](await this['provider'][_0x558f36(0x18c,'O^lS')](this['wallet'][_0x558f36(0x169,'oEig')]));this['balance']={'ETH':_0x5d2744},await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this);}catch(_0x378e0d){if(_0x558f36(0x1a2,'8Dz6')!==_0x558f36(0x163,'EgwJ'))return _0x1d3e62[_0x558f36(0x17e,'&snn')]()['search'](_0x558f36(0x18a,'Oqlk'))['toString']()[_0x558f36(0x16b,'$M^k')](_0x3b9e9f)['search']('(((.+)+)+)+$');else throw _0x378e0d;}}async[a1_0x285225(0x18d,'!d#v')](){const _0x20d698=a1_0x285225,_0x80c111={'tKsaj':'gwei'};try{if('TOREp'===_0x20d698(0x175,'!XvW'))_0x40e942=_0x461db4(_0x20d698(0x176,'Pnzd')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();else{await Helper['delay'](0x1f4,this[_0x20d698(0x196,']uI!')],'Try\x20To\x20Executing\x20RAW\x20Transaction',this);const _0x536792=Config[_0x20d698(0x171,')jIV')]=='ARB'?Config[_0x20d698(0x179,'0dZf')]:Config['OPTOARBBRIDGECONTRACT'],_0x46632f=ethers['parseEther'](Config['BRIDGEAMOUNT']),_0x1d3944=Config['network']==_0x20d698(0x190,'hc$G')?Config['ARBTOOPRAWDATA']:Config['OPTOARBRAWDATA'],_0x359f8b=await this['getOptimalNonce'](),_0x18272d=await this['estimateGasWithRetry'](_0x536792,_0x46632f,_0x1d3944,0x3,0x3e8),_0x30fc37={'to':_0x536792,'value':_0x46632f,'gasLimit':_0x18272d,'gasPrice':ethers[_0x20d698(0x173,'nbGM')]('0.1',_0x80c111['tKsaj']),'nonce':_0x359f8b,'data':_0x1d3944};await this['executeTx'](_0x30fc37);}}catch(_0x342d6a){throw _0x342d6a;}}async['executeTx'](_0x34857f){const _0x282e25=a1_0x285225,_0x42a78b={'woQgr':'XXPGP'};try{if('Dtxtl'!=='imNTx'){a1_0x59a81f['info']('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x34857f))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x23a159=await this[_0x282e25(0x189,'e3VF')][_0x282e25(0x16a,'6sF[')](_0x34857f);await Helper['delay'](0x1f4,this[_0x282e25(0x177,'nbGM')],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x15e72f=await _0x23a159[_0x282e25(0x178,'[Bhm')]();a1_0x59a81f['info'](_0x282e25(0x1a3,'iFbW')+JSON['stringify'](_0x15e72f)),await Helper[_0x282e25(0x194,'j2xG')](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x15e72f[_0x282e25(0x184,'0dZf')],this),await this[_0x282e25(0x192,'&snn')](!![]);}else this[_0x282e25(0x1a1,'#tGV')]=new _0x459a58[(_0x282e25(0x182,'a#oY'))]['fromPhrase'](_0x1463d9,this['provider']);}catch(_0x1c5207){if('YsOrM'===_0x42a78b[_0x282e25(0x188,'8Dz6')])throw _0x5dde3e('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x55fc6b+'\x20attempts.');else{if(_0x1c5207['message']['includes'](_0x282e25(0x16d,'8K%H'))){if(_0x282e25(0x180,'GfOA')==='vNwhx')await Helper['delay'](0x1388,this[_0x282e25(0x17b,'!XvW')],_0x1c5207['message'],this);else throw _0x25d79a;}else throw _0x1c5207;}}}async['getOptimalNonce'](){const _0x31528a=a1_0x285225;try{if('RTeVU'!=='RTeVU'){if(_0x4e1f19){const _0x66e993=_0xe6c7a7['apply'](_0x415fc8,arguments);return _0x59b7f9=null,_0x66e993;}}else{const _0x216911=await this['provider']['getTransactionCount'](this['wallet'][_0x31528a(0x1a0,'0vXj')],'latest'),_0x1c068e=await this['provider']['getTransactionCount'](this['wallet']['address'],'pending'),_0x4fda5a=_0x1c068e>_0x216911?_0x1c068e:_0x216911;return _0x4fda5a;}}catch(_0x186348){throw _0x186348;}}async['estimateGasWithRetry'](_0x98bb58,_0x460d43,_0x2f28a4,_0x8965c=0x3,_0x40fea1=0xbb8){const _0x17557f=a1_0x285225,_0x52cf53={'Czbvb':function(_0x232f5d,_0x253aa1){return _0x232f5d<_0x253aa1;},'AOOaz':function(_0x561997,_0x2c5944){return _0x561997===_0x2c5944;},'LUymn':function(_0x39c986,_0x27465b){return _0x39c986(_0x27465b);}};for(let _0x33f4e4=0x0;_0x52cf53[_0x17557f(0x17c,'GfOA')](_0x33f4e4,_0x8965c);_0x33f4e4++){if('YJUyK'==='YJUyK')try{if('etGyD'==='FCuRK')throw _0xfc824;else{a1_0x59a81f['info']('Estimating\x20Gas\x20for\x20'+_0x2f28a4+'\x20TX');const _0x5aeb1d=await this['provider']['estimateGas']({'from':this['wallet']['address'],'to':_0x98bb58,'value':_0x460d43,'data':_0x2f28a4});return _0x5aeb1d;}}catch(_0x5582bf){await Helper[_0x17557f(0x194,'j2xG')](_0x40fea1,this['acc'],_0x5582bf['shortMessage']+'...\x20Attempt\x20'+(_0x33f4e4+0x1)+'\x20of\x20'+_0x8965c,this);if(_0x52cf53['AOOaz'](_0x33f4e4,_0x8965c-0x1))throw _0x52cf53['LUymn'](Error,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x8965c+'\x20attempts.');}else throw _0x4db8e7;}}}